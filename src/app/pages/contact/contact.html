<section class="section-wrapper" data-aos="fade-up">
  <h2 class="text-center mb-4 fw-bold">✨ Get in Touch</h2>

  <div class="row g-4 justify-content-center">
    <!-- Contact Info -->
    <div class="col-md-5" data-aos="fade-right" data-aos-delay="100">
      <div class="card contact-card text-center h-100">
        <h5 class="fw-semibold mb-3 text-info">
          <i class="fas fa-envelope-open-text me-2"></i> Contact Info
        </h5>
        <p><i class="fas fa-user me-2 text-warning"></i> Naveen Lingala</p>
        <p class="mb-2">
          <i class="fas fa-map-marker-alt me-2 text-danger"></i>
          #14, Srinivasa Illam, 20th Cross,<br />Akshay Nagar, Bangalore
        </p>
        <div class="map-container my-2">
          <iframe
            class="map-iframe"
            src="https://www.google.com/maps?q=14,+Srinivasa+Illam,+20th+Cross,+Akshay+Nagar,+SBI+Colony,+T+C+Palya+Road,+Bangalore+560016&output=embed"
            allowfullscreen=""
            loading="lazy">
          </iframe>
        </div>
        <p><i class="fas fa-paper-plane me-2 text-primary"></i>
          <a href="mailto:naveentechie99@gmail.com" class="text-light text-decoration-none">
            naveentechie99@gmail.com
          </a>
        </p>
        <p><i class="fas fa-phone-alt me-2 text-success"></i>
          <a href="tel:+919108057464" class="text-light text-decoration-none">
            +91 9108057464
          </a>
        </p>
        <div class="social-icons mt-2">
          <a href="https://github.com/naveenlingala11" target="_blank" class="me-3 text-light"><i class="fab fa-github"></i></a>
          <a href="https://linkedin.com" target="_blank" class="me-3 text-light"><i class="fab fa-linkedin"></i></a>
          <a href="https://twitter.com" target="_blank" class="text-light"><i class="fab fa-twitter"></i></a>
        </div>
      </div>
    </div>

    <!-- Contact Form -->
    <div class="col-md-6" data-aos="fade-left" data-aos-delay="200">
      <div class="card contact-card h-100">
        <h5 class="fw-semibold mb-3 text-info">
          <i class="fas fa-paper-plane me-2"></i> Send a Message
        </h5>
        <form #contactForm="ngForm" (ngSubmit)="sendEmail(contactForm)">
          <input type="text" class="form-control mb-3" placeholder="Your Name" name="name" ngModel required />
          <input type="email" class="form-control mb-3" placeholder="Email Address" name="email" ngModel required />
          <textarea class="form-control mb-3" rows="3" placeholder="Your Message" name="message" ngModel required></textarea>
          <button type="submit" class="btn btn-primary w-100" [disabled]="sending">
            <i class="fas fa-paper-plane me-2"></i> {{ sending ? 'Sending...' : 'Send Message' }}
          </button>
          <div class="text-success text-center fw-semibold mt-2" *ngIf="successMessage">{{ successMessage }}</div>
          <div class="text-danger text-center fw-semibold mt-2" *ngIf="errorMessage">{{ errorMessage }}</div>
        </form>
      </div>
    </div>
  </div>

  <!-- Feedback Section -->
  <div class="feedback-section mt-4" data-aos="fade-up">
    <div class="text-center">
      <button class="btn btn-outline-primary" (click)="onLike()">
        <i class="fas fa-thumbs-up me-2"></i>{{ hasLiked ? 'Liked' : 'Like' }} (<span>{{ likes }}</span>)
      </button>
    </div>

    <div class="card feedback-card p-4 mx-auto mt-4" style="max-width:600px;">
      <h5 class="fw-semibold text-center text-info mb-3">
        <i class="fas fa-comment-dots me-2"></i> Feedback
      </h5>
      <form #reviewForm="ngForm" (ngSubmit)="submitReview(reviewForm)">
        <input type="text" class="form-control mb-2" placeholder="Your Name" name="name" [(ngModel)]="review.name" required />
        <input type="email" class="form-control mb-2" placeholder="Your Email" name="email" [(ngModel)]="review.email" required />
        <textarea class="form-control mb-3" rows="3" placeholder="Your Feedback" name="message" [(ngModel)]="review.message" required></textarea>

        <div class="rating text-center mb-3">
          <i *ngFor="let star of [1, 2, 3, 4, 5]" class="fas fa-star" [class.filled]="star <= review.rating" (click)="setRating(star)"></i>
        </div>

        <button type="submit" class="btn btn-success w-100">
          <i class="fas fa-paper-plane me-2"></i> Submit
        </button>
      </form>
    </div>

    <div class="latest-review mt-4 text-center" *ngIf="latestReview">
      <div class="card p-4 mx-auto" style="max-width:500px;">
        <h5 class="fw-semibold text-info mb-2"><i class="fas fa-star me-2"></i> Latest Review</h5>
        <blockquote class="blockquote fst-italic mb-2">“{{ latestReview.message }}”</blockquote>
        <footer class="blockquote-footer">{{ latestReview.name }}</footer>
        <button class="btn btn-outline-primary mt-3 px-3 py-2" (click)="viewAllReviews()">
          <i class="fas fa-comments me-2"></i> View All
        </button>
      </div>
    </div>
  </div>
</section>
